<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bracket</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='bracketstyle.css') }}">
  {% include 'header.html' %}
  <h1 align='center'> Here is the {{name}} Bracket</h1>


  <style>
    input[type="number"] {
      background-color: transparent;
      width: auto;
      padding: 0;
      margin: 0;
      font-size: inherit;
      max-width: 40px;
      border-color: black;
      border-width: 1px;
    }

    div {
      display: inline-block;
    }

    button {
      display: block;
      margin-top: 5px;
    }

    .container {
      transform: scale(1.5);
      transform-origin: top left;
    }
  </style>
</head>

<body>
  <div class="container">
    Welcome to the {{name}} bracket!<br>Your code to view this bracket is {{code}}.
    <form action="/editbracket/?code={{ code }}" method="post">
      <main id="tournament">
        {% for round in range(rounds - 1)%}
        <ul class="round round-{{ round + 1}}">
          <li class="spacer">&nbsp;</li>
          {% for i in range(round_indicies[round][0], round_indicies[round][1])%}
          {% if (i % 2) != 0 %}
          {% set index = i + 1 %}
          {% if bracket_list[i][0] == "Bye" or bracket_list[i+1][0] == "Bye" %}
          <li class="game game-top ">{{bracket_list[i][0]}}</li>
          <li class="game game-spacer">&nbsp;</li>
          <li class="game game-bottom ">{{bracket_list[i+1][0]}}</li>
          <li class="spacer">&nbsp;</li>
          {% else %}
          <li class="game game-top ">{{bracket_list[i][0]}} <span>
              <div>
                {{bracket_list[i][1]}}
              </div>
            </span></li>
          <li class="game game-spacer">&nbsp;</li>
          <li class="game game-bottom ">{{bracket_list[i + 1][0]}} <span>
              <div>
                {{bracket_list[index][1]}}
              </div>
            </span></li>

            <li class="spacer">&nbsp;</li>
          {% endif %}
          {% endif%}
          {% endfor %}
        </ul>
        {% endfor %}
        {% if bracket_list[bracket_list|length - 1] != None %}
        <p style="font-size: 24px; color: darkgreen;">THE WINNER IS {{bracket_list[bracket_list|length - 1][0]}}</p>
        {% endif %}

      </main>
      
    </form>
    <br><br>
    {% include 'footer.html' %}
  </div>
</body>
</html>