<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bracket</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='bracketstyle.css') }}">
  <style>
    body {
        background-color: #f0f0f0;
        /* Light gray background */
        color: #333;
        /* Dark gray text */
        padding: 2rem;
        /* Overall padding */
        font-family: Arial, sans-serif;
        /* Modern font */
      }
    
      .header {
        display: flex;
        /* Use flexbox */
        align-items: center;
        /* Vertically center content */
        padding: 1rem;
        /* Padding for spacing */
        background-color: #f0f0f0;
        /* Light gray background */
      }
    
      .header h1 {
        flex-grow: 1;
        margin: 0;
        /* No margin to keep content aligned */
        font-size: 2.5rem;
        /* Smaller font for compact header */
        text-align: center;
        /* Centered text */
      }
    
      .center-text {
        text-align: center;
      }
    input[type="number"] {
      background-color: transparent;
      width: auto;
      padding: 0;
      margin: 0;
      font-size: inherit;
      max-width: 40px;
      border-color: black;
      border-width: 1px;
    }

    div {
      display: inline-block;
    }

    button {
      display: block;
      margin-top: 5px;
    }

    .container {
      transform: scale(1.5);
      transform-origin: top left;
    }
  </style>
</head>

<body>
  <div class="header">
    <h1>BracketMaker</h1>
  </div>
  <hr><br>
  <h1 align='center'> {{name}}</h1>

  <div class="container">
    Welcome to the <b>{{name}}</b> bracket!<br>
    Your code to view this bracket is <b>{{code}}</b><br>
    <b>Add scores</b> to the spaces below and update the bracket with the <b>Update Scores</b> button at the bottom.
    <form action="/editbracket/?code={{ code }}" method="post">
      <main id="tournament">
        {% for round in range(rounds - 1)%}
        <ul class="round round-{{ round + 1}}">
          <li class="spacer">&nbsp;</li>
          {% for i in range(round_indicies[round][0], round_indicies[round][1])%}
          {% if (i % 2) != 0 %}
          {% set index = i + 1 %}
          {% if bracket_list[i][0] == "Bye" or bracket_list[i+1][0] == "Bye" %}
          <li class="game game-top ">{{bracket_list[i][0]}}</li>
          <li class="game game-spacer">&nbsp;</li>
          <li class="game game-bottom ">{{bracket_list[i+1][0]}}</li>
          <li class="spacer">&nbsp;</li>
          {% else %}
          <li class="game game-top ">{{bracket_list[i][0]}} <span>
              <div>
                <input type="number" name="{{i|string}}" value="{{bracket_list[i][1]}}" id="{{i}}">
              </div>
            </span></li>
          <li class="game game-spacer">&nbsp;</li>
          <li class="game game-bottom ">{{bracket_list[i + 1][0]}} <span>
              <div>
                <input type="number" name="{{index|string}}" value="{{bracket_list[index][1]}}" id="{{index}}">
              </div>
            </span></li>

            <li class="spacer">&nbsp;</li>
          {% endif %}
          {% endif%}
          {% endfor %}
        </ul>
        {% endfor %}
        {% if bracket_list[bracket_list|length - 1] != None %}
        <p style="font-size: 24px; color: darkgreen;">THE WINNER IS {{bracket_list[bracket_list|length - 1][0]}}</p>
        {% endif %}

      </main>
        <input type="submit" value="Update Scores" , class="submit-btn">
      
    </form>
    <br><br>
    {% include 'footer.html' %}
    <br>
  </div>
</body>
</html>
